<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.coding404.myweb.product.ProductMapper">

    <insert id="productInsert" parameterType="ProductVO">
        INSERT INTO PRODUCT(PROD_ENDDATE
        ,PROD_WRITER
        ,PROD_NAME
        ,PROD_PRICE
        ,PROD_COUNT
        ,PROD_DISCOUNT
        ,PROD_PURCHASE_YN
        ,PROD_CONTENT
        ,PROD_COMMENT
        )
        VALUES (
        #{prodEnddate}
        ,#{prodWriter}
        ,#{prodName}
        ,#{prodPrice}
        ,#{prodCount}
        ,#{prodDiscount}
        ,#{prodPurchaseYn}
        ,#{prodContent}
        ,#{prodComment}
        )











    </insert>

    <!-- 목록을 조회한다 -->
    <select id="getList" resultType="ProductVO">
        SELECT *
        FROM PRODUCT
        WHERE PROD_WRITER = #{userId}
        ORDER BY PROD_ID DESC
        LIMIT #{ cri.pageStart}, #{ cri.amount}
    </select>

    <!--상세내역을 조회한다-->
    <select id="getDetail" resultType="ProductVO">
        SELECT *
        FROM PRODUCT
        WHERE PROD_ID = #{prodId}
    </select>


    <update id="productUpdate" parameterType="ProductVO">
        UPDATE PRODUCT
        SET
        PROD_ENDDATE = #{prodEnddate}
        ,PROD_NAME = #{prodName}
        ,PROD_PRICE = #{prodPrice}
        ,PROD_COUNT = #{prodCount}
        ,PROD_DISCOUNT = #{prodDiscount}
        ,PROD_PURCHASE_YN = #{prodPurchaseYn}
        ,PROD_CONTENT = #{prodContent}
        ,PROD_COMMENT = #{prodComment}
        WHERE PROD_ID = #{prodId}
    </update>

    <!--삭제 기능 -->
    <delete id="productDelete" parameterType="int">
        DELETE FROM PRODUCT WHERE PROD_ID = #{prodId}
    </delete>


</mapper>
